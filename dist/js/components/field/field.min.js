(bbn_resolve)=>{((bbn)=>{let script=document.createElement('script');script.innerHTML=`<component v-if="mode === 'write'"
           :is="renderedComponent"
           v-bind="renderedOptions"
           v-model="currentValue"
           :class="componentClass"
           @input="$emit('input', currentValue)"

>
  <div v-if="renderedContent" v-html="renderedContent"></div>
</component>
<component v-else
           :is="renderedComponent"
           v-bind="renderedOptions"
           :class="componentClass"
>
  <div v-if="renderedContent" v-html="renderedContent"></div>
</component>`;script.setAttribute('id','bbn-tpl-component-field');script.setAttribute('type','text/x-template');document.body.insertAdjacentElement('beforeend',script);((bbn)=>{"use strict";Vue.component('bbn-field',{mixins:[bbn.vue.basicComponent,bbn.vue.fieldComponent,bbn.vue.dataComponent],props:{value:{},mode:{type:String,default:'read'},},data(){return{renderedComponent:false,renderedContent:'',renderedOptions:bbn.fn.extend({},this.options),currentValue:this.value}},computed:{actualData(){if(this.data){return this.data;}
if(this.field&&(this.value!==undefined)){let d={};d[this.field]=this.value;return d;}},actualValue(){let v=this.value;if(this.type==='json'&&(bbn.fn.isObject(v)||bbn.fn.isArray(v))){v=JSON.stringify(v);}
return v===undefined?(this.data&&this.field?this.data[this.field]||'':undefined):v;}},methods:{init(){if(this.field){if((this.mode==='write')&&this.editable){if(this.required!==undefined){this.renderedOptions.required=this.required;}
if(this.editor){return this.editor;}
else if((this.render!==undefined)&&bbn.fn.isFunction(this.render)){this.renderedComponent='div';this.renderedContent=this.render(this.actualData,this.index,this.field,this.value);}
else if(this.type){switch(this.type){case"datetime":this.renderedComponent='bbn-datetimepicker';break;case"date":this.renderedComponent='bbn-datepicker';break;case"time":this.renderedComponent='bbn-timepicker';break;case"email":this.renderedComponent='bbn-input';break;case"url":this.renderedComponent='bbn-input';break;case"number":this.renderedComponent='bbn-numeric';break;case"percent":this.renderedComponent='bbn-numeric';this.renderedOptions.unit='%';this.renderedOptions.decimals=2;break;case"money":this.renderedComponent='bbn-numeric';this.renderedOptions.decimals=2;break;case"json":this.renderedComponent='bbn-json-editor';if(!bbn.fn.isString(this.value)){this.renderedOptions.value=this.value?JSON.stringify(this.value):'';}
break;case"bool":case"boolean":this.renderedComponent='bbn-checkbox';this.renderedOptions.value=this.options&&(this.options.value!==undefined)?this.options.value:1;this.renderedOptions.novalue=this.options&&(this.options.novalue!==undefined)?this.options.novalue:0;break;case"multilines":case"textarea":this.renderedComponent='bbn-textarea';break;default:this.renderedComponent='bbn-input';break;}}
else if(this.source){this.renderedComponent='bbn-dropdown';this.renderedOptions.source=this.source;}
else{this.renderedComponent='bbn-input';}}
else{if(this.component){this.renderedComponent=this.component;}
else{this.renderedComponent='div';if((this.render!==undefined)&&bbn.fn.isFunction(this.render)){this.renderedContent=this.render(this.actualData,this.index,this.field,this.value);}
else{this.renderedContent=this.renderData(this.actualData,this)}}}
if(this.options&&Object.keys(this.options).length){bbn.fn.extend(this.renderedOptions,this.options);}}},},watch:{currentValue(val){if((this.mode==='write')&&(val!==this.actualValue)){this.$emit('input',val);}},actualValue(val){if(val!==this.currentValue){this.currentValue=this.actualValue;}},value(val,oldVal){if(val!==oldVal){this.init();}}},created(){this.init();}});})(bbn);if(bbn_resolve){bbn_resolve("ok");}})(bbn);}