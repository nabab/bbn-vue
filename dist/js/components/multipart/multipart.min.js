(bbn_resolve)=>{((bbn)=>{let script=document.createElement('script');script.innerHTML=`<div :class="[componentClass, 'bbn-overlay', 'bbn-flex-width']">
  <div :class="['bbn-h-100', 'bbn-alt-background-internal', 'bbn-reactive', 'bbn-middle', 'bbn-unselectable', 'bbn-p', {'bbn-disabled': !hasPrev}]"
       style="width: 10%; min-width: 10%"
       @click="prev">
    <div class="bbn-block bbn-xxxxl">
      <i class="nf nf-fa-chevron_left"></i>
    </div>
  </div>
  <div class="bbn-h-100 bbn-flex-fill">
    <bbn-form :full-size="true"
              v-bind="$options.propsData"
              mode="big"
              ref="form">
      <div class="bbn-abs bbn-no"
           style="width: 1px; height: 1px; background-color: transparent"
           tabindex="0"
           @focus="leaveBefore"></div>
      <bbn-router class="bbn-overlay"
                  ref="router"
                  @hook:mounted="init"
                  :autoload="false"
                  :def="def"
                  :auto="false"
                  @change="onRoute">

        <slot></slot>
      </bbn-router>
      <div class="bbn-abs bbn-no"
           style="width: 1px; height: 1px; background-color: transparent"
           tabindex="0"
           @focus="leaveAfter"></div>
    </bbn-form>
  </div>
  <div :class="['bbn-h-100', 'bbn-alt-background-internal', 'bbn-reactive', 'bbn-middle', 'bbn-unselectable', 'bbn-p', {'bbn-disabled': !hasNext}]"
       style="width: 10%; min-width: 10%"
       @click="next">
    <div class="bbn-block  bbn-xxxxl">
      <i class="nf nf-fa-chevron_right"></i>
    </div>
  </div>
</div>
`;script.setAttribute('id','bbn-tpl-component-multipart');script.setAttribute('type','text/x-template');document.body.insertAdjacentElement('beforeend',script);(function(bbn){"use strict";Vue.component('bbn-multipart',{mixins:[bbn.vue.basicComponent,bbn.vue.localStorageComponent],props:{autocomplete:{type:Boolean,default:false},prefilled:{type:Boolean,default:false},disabled:{type:Boolean,default:false},script:{},scrollable:{},fields:{},blank:{type:Boolean,default:false},self:{type:Boolean,default:false},target:{type:String},confirmMessage:{type:[String,Function]},confirmLeave:{type:[Boolean,String,Function],default:bbn._("Are you sure you want to discard the changes you made in this form?")},action:{type:String},success:{type:Function},failure:{type:Function},successMessage:{type:[String,Function]},failureMessage:{type:[String,Function]},method:{type:String,default:'post'},buttons:{type:[Boolean,Array],default(){return['cancel','submit'];}},source:{type:Object,default(){return{}}},data:{type:Object},fixedFooter:{type:Boolean,default:false},schema:{type:Array,default:function(){return[];}},sendModel:{type:Boolean,default:true},validation:{type:Function},windowed:{type:[Boolean,String],default:'auto'},fullSize:{type:Boolean,default:false},def:{type:String,default:''}},data(){return{router:null,form:null,hasNext:false,hasPrev:false,isFocusing:false}},methods:{prev(){if(this.router){this.router.prev();}},next(){if(this.router){this.router.next();}},init(){this.router=this.getRef('router');this.form=this.getRef('form');this.update();setTimeout(()=>{this.router.route(this.router.getDefaultURL(),true);},100)},focusout(e){bbn.fn.log("FOCUSING OUT")},leaveBefore(e){if(this.hasPrev){this.router.prev();this.isFocusing=true;setTimeout(()=>{this.form.focusLast();this.isFocusing=false;},100)}},leaveAfter(e){if(this.hasNext){this.router.next();this.isFocusing=true;setTimeout(()=>{this.form.focusFirst();this.isFocusing=false;},100)}},update(){this.hasPrev=this.router.views[this.router.selected-1]!==undefined;this.hasNext=this.router.views[this.router.selected+1]!==undefined;},onRoute(){this.update();if(!this.isFocusing){this.form.focusFirst();}},}});})(bbn);if(bbn_resolve){bbn_resolve("ok");}})(bbn);}