(bbn_resolve)=>{((bbn)=>{let script_dep=document.createElement('script');script_dep.setAttribute('src',"https://cdn.jsdelivr.net/combine/gh/xdan/jodit@3.3.8/build/jodit.es2018.min.js");script_dep.onload=()=>{let css_dependency;css_dependency=document.createElement('link');css_dependency.setAttribute('rel',"stylesheet");css_dependency.setAttribute('href',"https://cdn.jsdelivr.net/combine/gh/xdan/jodit@3.3.8/build/jodit.es2018.min.css");document.head.insertAdjacentElement('beforeend',css_dependency);let script=document.createElement('script');script.innerHTML=`<div :class="[componentClass, 'bbn-textbox']"
     @keydown.enter.stop=""
>
  <div class="bbn-100"
       ref="element"
       :required="required"
       :readonly="readonly"
       @change="onChange"
       :value="value"
   :disabled="disabled"/>
 <div class="bbn-hidden">
  <slot></slot>
 </div>
 <textarea :required="required"
      :readonly="readonly"
      ref="input"
      :value="value"
      class="bbn-hidden"
      :disabled="disabled"/>
</div>`;script.setAttribute('id','bbn-tpl-component-rte');script.setAttribute('type','text/x-template');document.body.insertAdjacentElement('beforeend',script);let css=document.createElement('link');css.setAttribute('rel',"stylesheet");css.setAttribute('href',bbn.vue.libURL+"dist/js/components/rte/rte.css");document.head.insertAdjacentElement('beforeend',css);(function($){"use strict";Vue.component('bbn-rte',{mixins:[bbn.vue.basicComponent,bbn.vue.inputComponent,bbn.vue.positionComponent],props:{iFrame:{type:Boolean,default:false},value:{},required:{type:[Boolean,Function,String],default:false},disabled:{type:[Boolean,Function],default:false},readonly:{type:[Boolean,Function],default:false},pinned:{},fullSize:{default:false,type:Boolean},iframeCSSLinks:{default(){return[bbn.env.cdn+'lib/bbnjs/1.0.1/src/css/iFrame.less']},type:Array},height:{default:'100%',type:[String,Number]},buttons:{type:Array,default(){return[['viewHTML'],['undo','redo'],['formatting'],['strong','em','underline','del'],['removeformat','foreColor','backColor'],['superscript','subscript'],['link'],['insertImage','base64'],['justifyLeft','justifyCenter','justifyRight','justifyFull','center'],['unorderedList','orderedList'],['horizontalRule'],['fullscreen'],];}},cfg:{type:Object,default:function(){return{pinned:true,top:null,left:null,bottom:5,right:5,}}}},data(){return{realHeight:typeof this.height==='string'?this.height:this.height+'px',widget:false,currentValue:this.value}},methods:{onChange(){this.$emit('input',this.widget.value);}},created(){if(!this.value&&this.$slots.default&&this.$slots.default[0]&&this.$slots.default[0].text.length){this.currentValue=this.$slots.default[0].text;}},mounted(){this.widget=new Jodit(this.getRef('element'),{iframe:this.iFrame,disabled:this.disabled,readOnly:this.readOnly,required:this.required,allowResizeX:false,allowResizeY:false,spellcheck:false,useSplitMode:true,height:this.height,tabIndex:0,maxHeight:'100%',uploader:{insertImageAsBase64URI:true},iframeCSSLinks:this.iFrame?this.iframeCSSLinks:[]});if(this.iFrame){this.widget.iframeCSSLinks=this.iframeCSSLinks}
if(this.currentValue){this.widget.value=this.currentValue;}
if(!this.value&&this.currentValue){this.$emit('input',this.currentValue);}
this.ready=true;},watch:{value(newVal){if(this.widget&&(this.widget.value!==newVal)){bbn.fn.log("CHANFING CURRENT VALUE");this.widget.value=newVal;}}}});})();if(bbn_resolve){bbn_resolve("ok");}};document.head.insertAdjacentElement("beforeend",script_dep);})(bbn);}