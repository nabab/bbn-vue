(bbn_resolve)=>{((bbn)=>{let script=document.createElement('script');script.innerHTML=`<div :class="[componentClass]">
  <div class="bbn-bordered bbn-h-100">
    <div class="bbn-flex-height" ref="container">
      <template v-for="(s, idx) in source">
        <div class="bbn-panelbar-bbn-header bbn-header bbn-spadded bbn-vmiddle" ref="header">
          <div class="bbn-panelbar-arrow-container bbn-hspadded bbn-p bbn-middle bbn-block"
               @click="select(idx)">
            <i :class="['nf nf-fa-angle_right', 'bbn-panelbar-header-icon', 'bbn-large',  {'bbn-panelbar-header-icon-rotate': preselected === idx}]"></i>
          </div>
          <div :class="['bbn-panelbar-title', 'bbn-vmiddle', {
                  'bbn-panelbar-center': (align === 'center'),
                  'bbn-panelbar-start': (align === 'left'),
                  'bbn-panelbar-end': (align === 'right')
                }]"
          >
            <div v-html="s.header"
                @click="select(idx)"
                :class="{
                  'bbn-p':true,
                  'bbn-panelbar-inline': s.headerComponent,
                  'bbn-panelbar-right-padded': s.headerComponent || headerComponent
                }"
            ></div>
            <component v-if="s.headerComponent"
                      :is="s.headerComponent"
                      v-bind="source[idx]['headerOptions']"
            ></component>
            <component v-if="headerComponent && !s.headerComponent"
                      :is="headerComponent"
                      v-bind="headerOptions"
            ></component>
          </div>
        </div>
        <div :class="['bbn-border-box', {
              'bbn-w-100': !scrollable,
              'bbn-panelbar-selected' : selected === idx,
              'bbn-flex-fill': ((selected === idx) && (flex || source[idx].flex))
            }]"
            :style="getStyle(idx)"
        >
          <component :is="scrollable ? 'bbn-scroll' : 'div'"
                     :class="{'bbn-w-100': !scrollable}"
                     :key="idx"
          >
            <div v-if="!s.component && !component"
                 v-html="s.content"
            ></div>
            <div v-else-if="!s.component && component"
                :class="['bbn-panelbar-content', {'bbn-w-100': !scrollable}]"
            >
              <component :is="component"
                        v-bind="componentOptions"
                        :class="{'bbn-w-100': !scrollable}"
                        @hook:mounted="$emit('componentMounted', component, componentOptions, s)"
              ></component>
            </div>
            <div v-else-if="(s.component)"
                :class="['bbn-panelbar-content', {'bbn-w-100': !scrollable}]"
            >
              <component :is="s.component"
                         v-bind="source[idx]['componentOptions']"
                         :class="{'bbn-w-100': !scrollable}"
                         @hook:mounted="$emit('componentMounted', s.component, s.componentOptions, s)"
              ></component>
            </div>
          </component>
        </div>
      </template>
    </div>
  </div>
</div>`;script.setAttribute('id','bbn-tpl-component-panelbar');script.setAttribute('type','text/x-template');document.body.insertAdjacentElement('beforeend',script);let css=document.createElement('link');css.setAttribute('rel',"stylesheet");css.setAttribute('href',bbn.vue.libURL+"dist/js/components/panelbar/panelbar.css");document.head.insertAdjacentElement('beforeend',css);(function(bbn){"use strict";Vue.component('bbn-panelbar',{mixins:[bbn.vue.basicComponent,bbn.vue.localStorageComponent,bbn.vue.resizerComponent],props:{flex:{type:Boolean,default:false},source:{type:Array},scrollable:{type:Boolean,default:true},align:{type:String,default:'center'},opened:{type:Number,},headerComponent:{type:String},headerOptions:{type:Object},component:{type:String},componentOptions:{type:Object}},data(){return{size:null,selected:null,preselected:null,childHeight:0};},computed:{headers(){return this.$refs['header']}},methods:{onResize(){this.size=this.$el.clientHeight;},select(idx){if(this.selected!==idx){this.preselected=idx;if(this.selected===null){setTimeout(()=>{this.selected=idx;},300);}
else{this.selected=idx;}
this.$emit('select',idx,this.source[idx])
if(!this.scrollable&&!this.flex){this.$nextTick(()=>{this.getStyle(idx)})}}
else{this.preselected=null;this.selected=null;}},getStyle(idx){if((idx!==null)&&(idx===this.preselected)&&(this.flex||((this.source[idx]!==undefined)&&(this.source[idx].flex===true)))){return this.size?{height:this.size+'px',overflow:'hidden'}:{};}
else if((idx!==null)&&(idx===this.preselected)&&(!this.flex||((this.source[idx]!==undefined)&&(this.source[idx].flex===false)))){let children=this.getRef('container').children,res=[],childHeight=0;bbn.fn.each(children,(a)=>{if(a.classList.contains('bbn-border-box')){res.push(a)}})
this.$nextTick(()=>{if(res[idx]&&res[idx].firstElementChild.clientHeight){this.childHeight=res[idx].firstElementChild.clientHeight}
return this.size?{height:this.childHeight+'px',overflow:'hidden'}:{};})}
else{return{height:'0px',overflow:'hidden'};}}},mounted(){if(this.opened!==undefined){this.$nextTick(()=>{this.select(this.opened)})}},watch:{selected(v,o){if(v!==null){setTimeout(()=>{this.headers[v].style.overflow=null;},300)}}}});})(bbn);if(bbn_resolve){bbn_resolve("ok");}})(bbn);}