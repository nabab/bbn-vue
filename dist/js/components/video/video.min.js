(bbn_resolve)=>{((bbn)=>{let script=document.createElement('script');script.innerHTML=`<div :class="[componentClass, 'bbn-flex-height', {'bbn-box': skin}]"
     :style="{
       width: width,
       height: height
     }">
  <div v-if="title && (titlePosition === 'top')"
       :class="['bbn-c', {
         'bbn-header': skin,
         'bbn-radius-top': skin,
         'bbn-no-border-top': skin,
         'bbn-no-border-left': skin,
         'bbn-no-border-right': skin,
       }, titleCls]"
       v-html="title"
       :style="{
         background: titleBackground,
         color: titleColor
       }">
  </div>
  <div class="bbn-flex-fill">
    <div v-if="(isYoutube || isVimeo) && !!poster && showPoster"
         class="bbn-overlay bbn-video-poster">
      <img :src="poster">
      <div class="bbn-overlay bbn-middle">
        <i class="nf nf-mdi-play_circle_outline bbn-xxl"
           @click="showPoster = false"/>
      </div>
    </div>
    <iframe v-else-if="isYoutube || isVimeo"
            width="100%"
            height="100%"
            :src="videoSource"
            frameborder="0"
            :allow="'autoplay; picture-in-picture;' + (isYoutube ? ' accelerometer; encrypted-media; gyroscope;' : ' fullscreen;')"
            :class="cls"
            allowfullscreen>
    </iframe>
    <video v-else
           :autoplay="autoplay"
           :controls="controls"
           :loop="loop"
           :muted="muted"
           preload="auto"
           :poster="poster"
           height="100%"
           width="100%"
           :style="{background: background}"
           :class="[cls, {
             'bbn-bordered-bottom': skin,
             'bbn-bordered-left': skin,
             'bbn-bordered-right': skin,
             'bbn-radius-bottom': skin
           }]">
      <source v-if="videoSource"
              :src="videoSource"
              :type="type">
      {{browserMessage}}
    </video>
  </div>
  <div v-if="title && (titlePosition === 'bottom')"
       :class="['bbn-c', {
         'bbn-header': skin,
         'bbn-radius-bottom': skin,
         'bbn-no-border-bottom': skin,
         'bbn-no-border-left': skin,
         'bbn-no-border-right': skin,
       }, titleCls]"
       v-html="title"
       :style="{
         background: titleBackground,
         color: titleColor
       }">
  </div>
</div>`;script.setAttribute('id','bbn-tpl-component-video');script.setAttribute('type','text/x-template');document.body.insertAdjacentElement('beforeend',script);let css=document.createElement('link');css.setAttribute('rel','stylesheet');css.setAttribute('href',bbn.vue.libURL+'dist/js/components/video/video.css');document.head.insertAdjacentElement('beforeend',css);(bbn=>{"use strict";Vue.component('bbn-video',{mixins:[bbn.vue.basicComponent],props:{source:{type:String,required:true},title:{type:String,default:''},titlePosition:{type:String,default:'top',validator:p=>['top','bottom'].includes(p)},titleBackground:{type:String},titleColor:{type:String},titleCls:{type:String},width:{type:String,default:'100%'},height:{type:String,default:'100%'},autoplay:{type:Boolean,default:false},controls:{type:Boolean,default:false},loop:{type:Boolean,default:false},muted:{type:Boolean,default:false},poster:{type:String,default:''},skin:{type:Boolean,default:false},background:{type:String},cls:{type:String}},data(){return{browserMessage:bbn._('To view this video please enable JavaScript, and consider upgrading to a web browser that supports HTML5 video.'),youtubeReg:/^https?:\/\/w{0,3}\.?youtu\.?be(-nocookie)?(\.com)?\//gm,vimeoReg:/^https?:\/\/vimeo(-nocookie)?(\.com)?\//gm,showPoster:true}},computed:{type(){if(this.source){switch(bbn.fn.substr(this.source,this.source.lastIndexOf('.')+1).toLowerCase()){case'mp4':return'video/mp4';case'webm':return'video/webm';case'ogg':return'video/ogg';default:return'';}}
return false;},isYoutube(){return!!this.source.match(this.youtubeReg);},isVimeo(){return!!this.source.match(this.vimeoReg);},videoSource(){if(this.isYoutube){let url=this.source.replace(this.youtubeReg,'');if(url.startsWith('watch?v=')){url=bbn.fn.substr(url,8);}
return`${document.location.protocol}//youtube.com/embed/${url}?rel=0&amp;autoplay=${this.autoplay ? 1 : 0}&controls=${this.controls ? 1 : 0}&mute=${this.muted || this.autoplay ? 1 : 0}&loop=${this.loop ? 1 : 0}&playlist=${url}`;}
else if(this.isVimeo){let url=this.source.replace(this.vimeoReg,'');return`${document.location.protocol}//player.vimeo.com/video/${url}?autoplay=${this.autoplay ? 1 : 0}&controls=${this.controls ? 1 : 0}&mute=${this.muted ? 1 : 0}&loop=${this.loop ? 1 : 0}&playlist=${url}`;}
return this.source;}},watch:{source(){this.showPoster=true;}}});})(bbn);if(bbn_resolve){bbn_resolve("ok");}})(bbn);}