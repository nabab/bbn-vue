((bbn)=>{let script=document.createElement('script');script.innerHTML=`
  <div :class="['bbn-widget', componentClass, 'bbn-primary-border' ,'bbn-progressbar-wrap', {
         'bbn-progressbar-horizontal' : (orientation === 'horizontal'),
         'bbn-progressbar-vertical' : (orientation === 'vertical'),
         'bbn-reverse-bar': reverse
       }]"
       :rotate="rotate"
       :style="orientationStyle"
       type="type"
  >
    <div :class="['bbn-wrap', realValuePosition, 'bbn-no-border']"
         style="height: 100%"
    >
      <div :class="['bbn-progress-status', {'bbn-hspadded': (orientation === 'horizontal')}]"
            v-text="(showValue ? (value + ( showUnit ? unit : '' ) ) : '') + (!!text ? ( showValue ? ' ' : '') + '(' + text + ')' : '')"
            :style="textColor.length ? 'color: '+ textColor : ''"
      ></div>
    </div>
    <div :class="['bbn-overlay', barClass]"
         :style="style"
         v-if="type !== 'chunk'"
    ></div>
    <div v-else class="chunk bbn-overlay"
         :style="chunkStyle"
    >
      <div :class="['block', {
             'bbn-background-effect-primary': !barColor.length && ( ((!reverse) && (n <= selectedChunks)) || ((reverse) && (n > chunknumber - selectedChunks)))
           }]"
           :style="barColor.length && ( ((!reverse) && (n <= selectedChunks)) || ((reverse) && (n > chunknumber - selectedChunks))) ? 'background-color:'+ barColor : ''"
           v-for="n in chunknumber"
      ></div>
    </div>
  </div>`;script.setAttribute('id','bbn-tpl-component-progressbar');script.setAttribute('type','text/x-template');document.body.insertAdjacentElement('beforeend',script);(function(bbn){"use strict";Vue.component('bbn-progressbar',{mixins:[bbn.vue.basicComponent,bbn.vue.inputComponent,bbn.vue.eventsComponent],props:{value:{type:[Number,String],},max:{type:Number,default:100},min:{type:Number,default:0},step:{type:Number,default:10},orientation:{type:String,default:'horizontal',validator:o=>['horizontal','vertical'].includes(o)},reverse:{type:Boolean,default:false},type:{type:String,default:'value',validator:t=>['value','percent','chunk'].includes(t)},barColor:{type:String,default:''},barClass:{type:String,default:'bbn-background-effect-primary'},textColor:{type:String,default:''},text:{type:String,default:''},height:{type:[Number,String],default:500},width:{type:[Number,String],},showValue:{type:Boolean,default:true},showUnit:{type:Boolean,default:true},rotate:{type:Number,default:0},valuePosition:{type:String,default:'right',validator:p=>['left','center','right','top','bottom'].includes(p)}},data(){return{orientationStyle:'',unit:'',chunknumber:0,selectedChunks:0,chunkStyle:'',realValuePosition:'',}},computed:{stepTotal(){return Math.round(this.max / this.step*100)/ 100;},stepTotalRounded(){return Math.round(this.max / this.step);},style(){let st='';if(this.orientation==='horizontal'){st+='width:'+this.value+'%;'}
else if(this.orientation==='vertical'){st+='height:'+this.value+'%;'}
if(this.barColor){st+='background-color: '+this.barColor+'!important;border-color: '+this.barColor+'!important;'}
return st;}},beforeMount(){if(this.type==='percent'){this.unit='%';}
if(this.value){if(bbn.fn.isString(this.value)){this.value=parseInt(this.value);}}
let st='margin: auto;';if(this.orientation==='vertical'){st+='width: 1.9em; min-height: '+(bbn.fn.isNumber(this.height)?(this.height+'px'):this.height);if(this.valuePosition==='right'){this.realValuePosition='top';}
else{this.realValuePosition=this.valuePosition;}}
else if((this.orientation==='horizontal')&&(this.width)){this.realValuePosition=this.valuePosition;st+='height: 1.9em; min-width: '+(bbn.fn.isNumber(this.width)?(this.width+'px'):this.width);}
this.orientationStyle=st+=';';if(this.type==='chunk'){this.chunknumber=(this.max-this.min)/ this.step,this.selectedChunks=this.value / this.chunknumber;}
if(this.max&&(this.value>this.max)){this.emitInput(this.max);}
if(this.min&&(this.value<this.min)){this.emitInput(this.min);}
if(this.rotate&&bbn.fn.isNumber(this.rotate)){this.orientationStyle+='transform: rotate('+this.rotate+'deg)'}},watch:{chunknumber(val){if(this.orientation==='horizontal'){this.chunkStyle+='grid-template-columns:repeat('+this.chunknumber+', 1fr);grid-template-rows: 1fr';}
else{this.chunkStyle+='grid-template-rows:repeat('+this.chunknumber+',1fr);grid-template-columns: 1fr; min-height: '+this.height+'px';}}}});})(bbn);})(bbn);