((bbn)=>{let script=document.createElement('script');script.innerHTML=`<div :class="[componentClass, 'bbn-w-100', 'bbn-textbox']"
     tabindex="0"
     @keydown.stop="keydown($event)"
     style="min-height: 6.5em">
  <input type="hidden"
         ref="element"
         v-model="value"
         :disabled="disabled"
         :required="required"
         :readonly="readonly"
  >
  <div class="bbn-overlay bbn-radius">
    <bbn-scroll ref="scroll">
      <bbn-list :source="source"
                :selection="true"
                class="bbn-reset"
                :uid="sourceValue"
                ref="list"
                :selected="value"
                :component="realComponent"
                :source-text="sourceText"
                :source-value="sourceValue"
                @select="select">
      </bbn-list>
    </bbn-scroll>
  </div>
</div>`;script.setAttribute('id','bbn-tpl-component-multiselect');script.setAttribute('type','text/x-template');document.body.insertAdjacentElement('beforeend',script);(function(bbn){"use strict";Vue.component('bbn-multiselect',{mixins:[bbn.vue.basicComponent,bbn.vue.inputComponent,bbn.vue.eventsComponent,bbn.vue.keynavComponent,bbn.vue.listComponent],props:{source:{},textValue:{type:String,default:''},minLength:{type:Number,default:1},component:{},template:{},valueTemplate:{},group:{type:String},nullable:{default:null},placeholder:{type:String},autocomplete:{type:Boolean,default:false},delay:{type:Number,default:500},leftIcon:{default:false},rightIcon:{default:'nf nf-fa-search'},minWidth:{default:'4em'},maxWidth:{default:'100%'},filterable:{default:false},value:{type:Array,default(){return[];}}},data(){return{isFocused:false,search:'',style:this.source&&this.source.style?this.source.style:{},isOpened:true,currentWidth:this.minWidth,currentPlaceholder:'?',hasSelection:true};},computed:{},methods:{keydown(e){let list=this.getRef('list');if(!list||!this.filteredData.length||e.altKey||e.ctrlKey||e.metaKey){return;}
if(e.key===' '){if(list.overIdx>-1){list.select(list.overIdx);}}
else if(bbn.var.keys.confirm.indexOf(e.which)>-1){e.preventDefault();if(list.overIdx>-1){list.select(list.overIdx);}}
else if(bbn.var.keys.upDown.indexOf(e.keyCode)>-1){this.keynav(e);}},select(item){if(item[this.sourceValue]!==undefined){let v=this.value.slice();let idx=v.indexOf(item[this.sourceValue]);if(idx>-1){v.splice(idx,1);}
else{v.push(item[this.sourceValue]);}
this.emitInput(v);}}},mounted(){this.ready=true;}});})(bbn);})(bbn);