<div :class="[componentClass, {'bbn-flex-height': scrollable}]">
  <div v-if="isToolbarShown"
       class="bbn-l bbn-widget bbn-gallery-toolbar"
  >
    <component v-if="toolbar && (isObject(toolbar) || isVue(toolbar))"
               :is="toolbar"
    ></component>
    <template v-else>
      <bbn-button :text="_('Upload')"
                  icon="nf nf-fa-upload"
                  @click="uploadButton"
                  v-if="!isSelecting && uploadButton"
      ></bbn-button>
      <bbn-button :text="_('Download')"
                  icon="nf nf-fa-download"
                  @click="setSelecting('download')"
                  v-if="!isSelecting && downloadButton"
                  :disabled="!total"
      ></bbn-button>
      <bbn-button :text="_('Remove')"
                  icon="nf nf-fa-trash"
                  @click="setSelecting('remove')"
                  v-if="!isSelecting && removeButton"
                  :disabled="!total"
      ></bbn-button>
      <bbn-button :text="_(correctCase(selectingMode))"
                  icon="nf nf-fa-check"
                  @click="action"
                  v-if="isSelecting"
                  :disabled="!currentSelected.length"
      ></bbn-button>
      <bbn-button :text="_('Cancel')"
                  icon="nf nf-fa-times"
                  @click="setSelecting(false)"
                  v-if="isSelecting"
      ></bbn-button>
    </template>
  </div>
  <div ref="gallery" :class="{'bbn-flex-fill': scrollable}">
    <component :is="scrollable ? 'bbn-scroll' : 'div'"
               v-if="total"
    >
      <div :style="{margin: '0 auto', textAlign: align}">
        <gallery-col v-for="(col, index) in cols"
                     :key="'gallery-col-'+index"
                     :index="index"
                     :source="currentView.filter((it, i) => {
                        return i % cols === index;
                      })"
        ></gallery-col>
      </div>
    </component>
  </div>
  <bbn-pager class="bbn-gallery-pager"
              :element="_self"
              ref="pager"
              v-if="pageable || isAjax"
  ></bbn-pager>
</div>