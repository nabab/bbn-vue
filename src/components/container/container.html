<div :class="[componentClass]"
     v-show="visible">
  <transition name="fade"
              v-if="!hidden"
              v-on:enter="enter"
              v-on:after-enter="find('bbn-scroll') ? find('bbn-scroll').onResize() : (() => {})()"
  >
    <component :is="scrollable ? 'bbn-scroll' : 'div'"
               v-if="ready && isLoaded && (visible || cached)"
               v-show="visible"
               :class="{
                'bbn-overlay': !fullScreen,
                'bbn-container-full-screen': fullScreen,
                'bbn-container-visible': visible
               }"
    >
      <!-- This is an ad hoc component with unique name -->
      <component v-if="isComponent"
                 :is="$options.components[componentName]"
                 :source="source"
                 ref="component"
      ></component>
      <!-- This is a classic component -->
      <component v-else-if="component"
                 :is="component"
                 :source="source"
                 ref="component"
                 v-bind="options"
      ></component>
      <!-- This is just HTML content -->
      <div v-else-if="content" v-html="content">
      </div>
      <!-- This is the slot -->
      <slot v-else></slot>
      <component is="style" v-if="css" scoped="scoped" v-html="css"></component>
      <bbn-loader v-if="hasLoader"></bbn-loader>
      <span  v-if="fullScreen"
             class="bbn-container-full-screen-closer bbn-xl bbn-p">
        <i class="nf nf-fa-times_circle"
           @click="fullScreen = false"></i>
      </span>
      <bbn-popup ref="popup"
                 :source="popups">
      </bbn-popup>
    </component>
  </transition>
</div>
