<ul v-if="filteredData.length"
    :class="[componentClass, 'bbn-floater-list', 'bbn-menulist', mode]"
    @mouseleave="mouseleave"
>
  <li v-for="(li, idx) in filteredData"
      @mouseenter="mouseenter($event, idx)"
      :ref="'li' + idx"
      :key="idx"
      @click="select(idx)"
      :class="{
        'bbn-no-padding': !!component,
        'bbn-state-default': true,
        'bbn-disabled': !component && !!li.data.disabled,
        'bbn-state-selected': isSelected(idx),
        'bbn-state-hover': overIdx === idx
      }">
    <component v-if="realComponent"
              :is="realComponent"
              :source="li.data"
              @hook:mounted="selfEmit(true)">
    </component>
    <component v-else
               :is="li.data.url && !li.data[children] ? 'a' : 'span'"
               @click.prevent="() => {}"
               class="bbn-w-100"
               :href="li.data.url || null">
      <span class="space" v-if="selection || (mode === 'options')">
        <i v-if="li.selected"
          class="nf nf-fa-check"></i>
      </span>
      <span class="space" v-if="hasIcons">
        <i v-if="li.data.icon" :class="li.data.icon"></i>
      </span>
      <span class="text" v-html="li.data.text"></span>
      <i v-if="li[children] && li[children].length"
        class="bbn-abs nf nf-fa-chevron_right"
        style="right: 1em"
      ></i>
    </component>
    <bbn-floater v-if="isOpened && children &&
                        (origin === 'floater') &&
                        li.data[children] &&
                        (overIdx === idx) &&
                        getRef('li' + idx)"
                :uid="uid"
                :level="level + 1"
                :mode="li.data.mode || 'free'"
                :source="li.data[children]"
                :element="getRef('li' + idx)"
                orientation="horizontal">
    </bbn-floater>
    <bbn-list v-else-if="(origin !== 'floater') &&
                          children && li.data[children] &&
                          getRef('li' + idx)"
              :level="level + 1"
              :mode="li.data.mode || 'free'"
              :uid="uid"
              :source="li.data[children]">
    </bbn-list>
  </li>
</ul>