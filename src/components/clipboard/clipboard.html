<bbn-slider :orientation="orientation"
            :class="[componentClass]"
            ref="slider"
            close-button="bottom-right"
>
  <div class="bbn-h-100 bbn-flex-height bbn-vpadded">
    <div class="bbn-xl bbn-c bbn-w-100 bbn-vpadded" v-if="!items.length">
      <i class="nf nf-fa-clipboard"></i> &nbsp; 
      <span v-text="_('Clipboard is empty')"></span>
    </div>
    <div class="bbn-large bbn-c bbn-w-100 bbn-vpadded" v-else>
      <bbn-input :placeholder="_('Search clipboard')"
                 button-right="nf nf-fa-search"
                 v-model="search">
      </bbn-input><br>
    </div>
    <div class="bbn-w-100 bbn-p bbn-hpadded" v-if="items.length">
      <a href="javascript:;" @click="clear" v-text="_('Clear all')"></a>
      <textarea class="bbn-invisible" ref="textarea" style="width: 0px; height: 0px"></textarea>
    </div>
    <div class="bbn-flex-fill" @drop.prevent.stop="copy">
      <bbn-scroll axis="y">
        <bbn-list :source="items" uid="uid" @remove="remove">
          <div class="bbn-flex-width" v-pre>
            <div class="bbn-clipboard-buttons bbn-block-left">
              <bbn-context :source="[
                {text: _('Copy plain text'), icon: 'nf nf-mdi-cursor_text', command: () => {closest('bbn-clipboard').setClipboard(uid, 'plain')}},
                {text: _('Copy rich text'), icon: 'nf nf-mdi-code_tags', disabled: !content, command: () => {closest('bbn-clipboard').setClipboard(uid, 'html')}},
                {text: _('Copy as image'), icon: 'nf nf-fa-image', disabled: !type || (type.indexOf('image/')) !== 0, command: () => {closest('bbn-clipboard').setClipboard(uid, 'image')}},
                {text: _('Save'), icon: 'nf nf-fa-file_o', command: () => {closest('bbn-clipboard').save(uid)}},
                {text: _('Save as...'), icon: 'nf nf-fa-file_o', command: () => {closest('bbn-clipboard').saveAs(uid)}},
              ]">
                <bbn-button icon="nf nf-fa-clipboard"
                            :notext="true"
                            :text="_('Copy to clipboard')">
                </bbn-button>
              </bbn-context>
              <bbn-button icon="nf nf-fa-share"
                          :notext="true"
                          text="_('Share')">
              </bbn-button>
              <bbn-button icon="nf nf-fa-trash_o"
                          :notext="true"
                          :text="_('Remove')"
                          :command="() => {closest('bbn-list').$emit('remove', source)}">
              </bbn-button>
              <span :class="{
                'bbn-iblock': true,
                'bbn-green': stype === 'html',
                'bbn-red': stype === 'javascript',
                'bbn-purple': type.indexOf('application/') === 0,
                'bbn-blue': stype === 'php',
                'bbn-orange': ['css', 'less', 'scss'].includes(stype),
                'bbn-darkgrey': stype === 'text',
                'bbn-pink': stype && (stype.indexOf('image/') === 0)
              }" v-text="stype" style="padding-left: 1em; line-height: 100%; vertical-align: middle"></span>
            </div>
            <div :title="text"
                 class="bbn-clipboard-text bbn-block-right bbn-flex-fill bbn-r"
                 v-text="text"></span>
            </div>
          </div>
        </bbn-list>
      </bbn-scroll>
    </div>
    <div class="bbn-w-100 bbn-padded">
      <input class="bbn-textbox bbn-w-100 bbn-large"
              @paste.prevent="copy"
              ref="paster"
              @drop.prevent.stop="copy"
              @keyup.prevent
              :placeholder="_('Paste or drop something...')">
    </div>
  </div>
</bbn-slider>