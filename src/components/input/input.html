<div :class="[
	componentClass, 'bbn-textbox', {
		'bbn-disabled': !!disabled,
		'button-left' : buttonLeft,
		'button-right' : buttonRight,
		'bbn-invisible' : (type === 'hidden'),
    'bbn-input-nullable': nullable
	}]"
	:style="(currentSize !== '') ? 'width:' + currentSize : '' "
>
  <div :class="{
    'bbn-w-100': (!buttonLeft && !buttonRight),
    'bbn-flex-width' : (buttonLeft || buttonRight || nullable)
  }">
    <bbn-button v-if="buttonLeft"
          :icon="buttonLeft" 
          @click="$emit('clickLeftButton')"
          tabindex="-1"
          :class="['bbn-button-left', {
            'bbn-invisible' : autoHideLeft
          }]"
    ></bbn-button>
    <input :value="value"
          :type="type"
          :name="name"
          ref="element"
          :readonly="readonly"
          :disabled="disabled"
          :required="required"
          :placeholder="placeholder"
          :maxlength="maxlength"
          :autocomplete="currentAutocomplete"
          :pattern="pattern"
          @input="emitInput($refs.element.value)"
          @click="click"
          @focus="focus"
          @blur="blur"
          @change="change"
          @keydown="keydown"
          @keyup="keyup"
          @mouseenter="over"
          @mouseleave="out"
          :tabindex="tabindex"
          :class="{'bbn-flex-fill' : (buttonLeft || buttonRight || isNullable)}"
    >
    <bbn-loadicon v-if="loading"></bbn-loadicon>
    <div v-else-if="nullable && hasValue && !readonly && !disabled"
         class="bbn-block bbn-h-100 bbn-input-nullable-container">
      <i class="nf nf-fa-times_circle bbn-p"
         @mousedown.prevent.stop="clear"></i>
    </div>
    <bbn-button v-if="buttonRight"
                :icon="buttonRight"
                tabindex="-1"
                @click="$emit('clickRightButton')"
                :class="['bbn-button-right', 'bbn-m', {
                  'bbn-invisible' : autoHideRight
                }]"
    ></bbn-button></div>
</div>