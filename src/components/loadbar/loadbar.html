<div :class="[{'bbn-100': true, 'bbn-unselectable': true}, componentClass]" @click="info = true">
  <span class="content">
    <!--span class="buttons" v-if="data.length">
      <i :title="_('History informations')"
         :class="{
           'bbn-p': false,
           'bbn-lg': true,
           'fa': true,
           'fa-info_circle': true
         }"
         @click="getInfo"
      ></i>
      <i :title="_('Delete history')"
         :class="{
           'bbn-p': data.length,
           'bbn-lg': true,
           'far': true,
           'fa-times_circle': true,
           'bbn-invisible': !data.length
         }"
         @click="deleteHistory"
      ></i>
      <i :title="_('Previous Ajax call')"
         :class="{
           'bbn-p': selected < data.length - 1,
           'bbn-lg': true,
           'fas': true,
           'fa-angle_left': true,
           'bbn-invisible': selected >= data.length - 1
         }"
         @click="selected++"
      ></i>
      <i :title="_('Next Ajax call')"
         :class="{
           'bbn-p': selected > 0,
           'bbn-lg': true,
           'fa': true,
           'fa-angle_right': true,
           'bbn-invisible': selected <= 0
         }"
         @click="selected--"
      ></i>
      <i :title="_('Play current calls')"
         :class="{
           'bbn-p': selected > 0,
           'bbn-lg': true,
           'fa': true,
           'fa-play': true,
           'bbn-invisible': selected <= 0
         }"
         @click="selected = 0"
      ></i>
    </span-->
    <span class="bbn-loadbar-state">
      <bbn-loadicon v-if="currentItem.loading" class="bbn-blue"></bbn-loadicon>
      <i v-else-if="currentItem.error" class="nf nf-fa-times_circle bbn-red"></i>
      <i v-else-if="currentItem.success" class="nf nf-fa-check bbn-green"></i>
      <i v-else-if="currentItem.abort" class="zmdi zmdi-stop bbn-orange"></i>
    </span>
    <a href="javascript:;" :title="text + ' ' + _('Loading')" style="color: inherit; cursor: default" v-if="currentItem">
      <span class="text" v-text="currentItem.url"></span>
    </a>
  </span>
  <transition name="fade">
    <!--div class="bbn-loadbar-floater k-widget" v-if="info && items.length" @mouseenter="info = true" @mouseleave="info = false"-->
    <div class="bbn-loadbar-floater k-widget" v-if="info && items.length" @mouseenter="info = true" @mouseleave="info = false">
      <header class="bbn-header bbn-w-100 bbn-c bbn-m" v-text="_('Requests\' history')"></header>
      <div class="bbn-w-100 bbn-padded">
        <ul class="bbn-reset">
          <li v-for="it of items" @click="cancel(it)">
            <div>
              <span class="bbn-loadbar-state">
                <bbn-loadicon v-if="it.loading" class="bbn-blue"></bbn-loadicon>
                <i v-else-if="it.error" class="nf nf-fa-times_circle bbn-red"></i>
                <i v-else-if="it.success" class="nf nf-fa-check bbn-green"></i>
                <i v-else-if="it.abort" class="zmdi zmdi-stop bbn-orange"></i>
              </span>
              <div class="bbn-loadbar-time">
                <span v-text="renderDuration(it.duration)">
                </span>
              </div>
              <span v-text="it.url"></span>
            </div>
            <div v-if="it.error && it.errorMessage" 
                 class="bbn-loadbar-error"
                 v-text="it.errorMessage"
            >
            </div>
          </li>
        </ul>
      </div>
    </div>
  </transition>
</div>