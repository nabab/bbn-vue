<div :class="[componentClass, 'bbn-iblock', 'bbn-textbox', 'bbn-reactive', {'bbn-disabled': !!disabled}]"
     @focus=""
>
  <div class="bbn-flex-width bbn-h-100">
    <div class="bbn-flex-fill" @click.stop="isOpened = !isOpened">
      <input :disabled="disabled"
              class="bbn-unselectable bbn-textbox bbn-no-border bbn-abs bbn-top-left"
              @keydown.stop="keydown"
              :required="required"
              readonly="readonly"
              :placeholder="placeholder"
              :value="filterString ? '' : currentText">
      <input v-if="filterable && !disabled && !readonly"
              tabindex="0"
              :disabled="disabled"
              class="bbn-textbox bbn-no-border"
              v-model="filterString"
              :required="required"
              :readonly="readonly"
              @keydown.stop="keydown"
              :name="name">
    </div>
    <div>
      <button class="bbn-p bbn-button bbn-reactive-block bbn-button-icon-only bbn-radius-right bbn-h-100"
              @click.prevent.stop="isOpened = !isOpened"
              tabindex="-1"
              :disabled="disabled">
        <i :class="'nf nf-fa-caret_' + (isOpened ? 'up' : 'down')"></i>
      </button>
    </div>
  </div>
  <input type="hidden"
         v-model="value"
         ref="element"
         :name="name">
  <bbn-floater v-if="isOpened"
               :element="$el"
               :min-width="currentWidth"
               ref="list"
               @select="select"
               @close="isOpened = false"
               @mounted="init"
               :source="filteredData">
  </bbn-floater>
</div>
